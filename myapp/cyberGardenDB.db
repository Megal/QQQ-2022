-- MySQL dump 10.13  Distrib 8.0.31, for Linux (x86_64)
--
-- Host: localhost    Database: cyberGardenDB
-- ------------------------------------------------------
-- Server version	8.0.31-0ubuntu0.20.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `Answer`
--

DROP TABLE IF EXISTS `Answer`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Answer` (
  `AnswerID` int unsigned NOT NULL AUTO_INCREMENT,
  `StudentID` int unsigned NOT NULL,
  `QuestionID` int unsigned NOT NULL,
  `LessonID` int unsigned NOT NULL,
  `AnswerNumber` int unsigned NOT NULL,
  PRIMARY KEY (`AnswerID`),
  KEY `AnswerStudentID` (`StudentID`),
  KEY `AnswerQuestionID` (`QuestionID`),
  KEY `AnswerLessonID` (`LessonID`),
  CONSTRAINT `AnswerLessonID` FOREIGN KEY (`LessonID`) REFERENCES `Lesson` (`LessonID`),
  CONSTRAINT `AnswerQuestionID` FOREIGN KEY (`QuestionID`) REFERENCES `Questions` (`QuestionID`),
  CONSTRAINT `AnswerStudentID` FOREIGN KEY (`StudentID`) REFERENCES `Student` (`StudentID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Answer`
--

LOCK TABLES `Answer` WRITE;
/*!40000 ALTER TABLE `Answer` DISABLE KEYS */;
INSERT INTO `Answer` VALUES (1,3,3,1,2),(2,6,1,1,1);
/*!40000 ALTER TABLE `Answer` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Group`
--

DROP TABLE IF EXISTS `Group`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Group` (
  `GroupID` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`GroupID`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Group`
--

LOCK TABLES `Group` WRITE;
/*!40000 ALTER TABLE `Group` DISABLE KEYS */;
INSERT INTO `Group` VALUES (1,'КТбо2-7'),(2,'КТсо3-2'),(3,'ХСмм1-2');
/*!40000 ALTER TABLE `Group` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `GroupLessons`
--

DROP TABLE IF EXISTS `GroupLessons`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `GroupLessons` (
  `LessonID` int unsigned NOT NULL,
  `GroupID` int unsigned NOT NULL,
  KEY `GroupLessonsGroupID` (`GroupID`),
  KEY `GroupLessonsLessonID` (`LessonID`),
  CONSTRAINT `GroupLessonsGroupID` FOREIGN KEY (`GroupID`) REFERENCES `Group` (`GroupID`),
  CONSTRAINT `GroupLessonsLessonID` FOREIGN KEY (`LessonID`) REFERENCES `Lesson` (`LessonID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `GroupLessons`
--

LOCK TABLES `GroupLessons` WRITE;
/*!40000 ALTER TABLE `GroupLessons` DISABLE KEYS */;
INSERT INTO `GroupLessons` VALUES (1,1),(1,2),(2,1),(3,2),(3,3),(4,1),(4,2);
/*!40000 ALTER TABLE `GroupLessons` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Lesson`
--

DROP TABLE IF EXISTS `Lesson`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Lesson` (
  `LessonID` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(50) DEFAULT NULL,
  `Location` varchar(50) DEFAULT NULL,
  `TimeStart` timestamp NULL DEFAULT NULL,
  `TimeEnd` timestamp NULL DEFAULT NULL,
  `TeacherID` int unsigned DEFAULT NULL,
  `IsOnline` int unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`LessonID`),
  KEY `TeacherID` (`TeacherID`),
  CONSTRAINT `TeacherID` FOREIGN KEY (`TeacherID`) REFERENCES `Teacher` (`TeacherID`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Lesson`
--

LOCK TABLES `Lesson` WRITE;
/*!40000 ALTER TABLE `Lesson` DISABLE KEYS */;
INSERT INTO `Lesson` VALUES (1,'Теория Относительности','Д-315','2022-11-26 05:30:00','2022-11-26 07:05:00',3,0),(2,'Античная История','https://foreign.url.ibn/hattab/lection_1','2022-11-26 07:20:00','2022-11-26 08:55:00',2,0),(3,'Безопасность Жизнедеятельности','за корпусом А','2022-11-26 09:30:00','2022-11-26 10:45:00',1,0),(4,'Презентация Проектов','Зал Ученого Совета','2022-11-27 12:30:00','2022-11-27 14:00:00',3,0);
/*!40000 ALTER TABLE `Lesson` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Questions`
--

DROP TABLE IF EXISTS `Questions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Questions` (
  `QuestionID` int unsigned NOT NULL AUTO_INCREMENT,
  `TeacherID` int unsigned NOT NULL,
  `Name` varchar(50) NOT NULL DEFAULT 'QuestionName',
  `Text` text NOT NULL,
  `AnswerOne` text NOT NULL,
  `AnswerTwo` text NOT NULL,
  `AnswerThree` text NOT NULL,
  `Correct` tinyint unsigned NOT NULL DEFAULT '1',
  `AnswerTime` time NOT NULL,
  PRIMARY KEY (`QuestionID`),
  KEY `QuestionsTeacherID` (`TeacherID`),
  CONSTRAINT `QuestionsTeacherID` FOREIGN KEY (`TeacherID`) REFERENCES `Teacher` (`TeacherID`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='Questions for Teacher to ask students';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Questions`
--

LOCK TABLES `Questions` WRITE;
/*!40000 ALTER TABLE `Questions` DISABLE KEYS */;
INSERT INTO `Questions` VALUES (1,3,'Загадка на логику','Англичанин живёт в красном доме. У испанца есть собака. В зелёном доме пьют кофе. Украинец пьёт чай. Зелёный дом стоит сразу справа от белого дома. Тот, кто курит Old Gold, разводит улиток. В жёлтом доме курят Kool. В центральном доме пьют молоко. Норвежец живёт в первом доме. Сосед того, кто курит Chesterfield, держит лису. В доме по соседству с тем, в котором держат лошадь, курят Kool. Тот, кто курит Lucky Strike, пьёт апельсиновый сок. Японец курит Parliament. Норвежец живёт рядом с синим домом. Кто пьёт воду? Кто держит зебру? ','Англичанин пьет воду, испанец держит зебру','Норвежец пьет воду, японец держит зебру','Японец пьет воду, испанец держит зебру',2,'01:00:00'),(2,1,'Перекличка!','Ты здесь?','Я здесь!','Меня нет','Я не я',1,'00:00:10'),(3,3,'Загадка на счет','Летели два крокодила: один зелёный, другой на север. Сколько лет ёжику, если страус пошёл в армию?','42','Зачем на мадагаскаре столько напильников?','Зачем мне холодильник, если я не курю?',3,'00:01:00'),(7,2,'Опрос','Всем все понятно или есть вопросы?','Все понятно','Есть вопрос','-',1,'00:00:30'),(8,2,'Отзыв о лекции','Насколько она была интересна и понятна?','Очень интересна','Средненько','Ничего не понятно совсем',1,'00:10:00');
/*!40000 ALTER TABLE `Questions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Student`
--

DROP TABLE IF EXISTS `Student`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Student` (
  `StudentID` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'BlankName',
  `Surname` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'BlankSurname',
  `Patronymic` varchar(50) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL DEFAULT 'BlankPatronymic',
  `GroupID` int unsigned DEFAULT NULL,
  PRIMARY KEY (`StudentID`),
  KEY `LessonID` (`GroupID`) USING BTREE,
  CONSTRAINT `StudentGroupID` FOREIGN KEY (`GroupID`) REFERENCES `Group` (`GroupID`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Student`
--

LOCK TABLES `Student` WRITE;
/*!40000 ALTER TABLE `Student` DISABLE KEYS */;
INSERT INTO `Student` VALUES (1,'Владимир','Костыльков','Алексеевич',1),(3,'Алиса','Селезнева','Игоревна',2),(4,'Гарри','Поттер','Джеймсович',3),(5,'Гермиона','Грейнджер','',3),(6,'Рон','Уизли','Артурович',3);
/*!40000 ALTER TABLE `Student` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `StudentPresence`
--

DROP TABLE IF EXISTS `StudentPresence`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `StudentPresence` (
  `StudentID` int unsigned NOT NULL,
  `LessonID` int unsigned NOT NULL,
  `Presence` int unsigned NOT NULL DEFAULT '0',
  KEY `AttendanceStudentID` (`StudentID`),
  KEY `AttendanceLessonID` (`LessonID`),
  CONSTRAINT `AttendanceLessonID` FOREIGN KEY (`LessonID`) REFERENCES `Lesson` (`LessonID`),
  CONSTRAINT `AttendanceStudentID` FOREIGN KEY (`StudentID`) REFERENCES `Student` (`StudentID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='To check if student attended to lection in time';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `StudentPresence`
--

LOCK TABLES `StudentPresence` WRITE;
/*!40000 ALTER TABLE `StudentPresence` DISABLE KEYS */;
INSERT INTO `StudentPresence` VALUES (3,2,1),(1,2,0);
/*!40000 ALTER TABLE `StudentPresence` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Teacher`
--

DROP TABLE IF EXISTS `Teacher`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `Teacher` (
  `TeacherID` int unsigned NOT NULL AUTO_INCREMENT,
  `Name` varchar(50) DEFAULT NULL,
  `Surname` varchar(50) DEFAULT NULL,
  `Patronymic` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`TeacherID`)
) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Teacher`
--

LOCK TABLES `Teacher` WRITE;
/*!40000 ALTER TABLE `Teacher` DISABLE KEYS */;
INSERT INTO `Teacher` VALUES (1,'Эйкичи','Онидзука','Великий'),(2,'Гассан','Абдурахман','ибн Хоттаб'),(3,'Альберт','Эйнштейн','Германович');
/*!40000 ALTER TABLE `Teacher` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2022-11-26 20:13:16
